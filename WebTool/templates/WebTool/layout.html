<!DOCTYPE html>
<!-- Template by quackit.com -->
{% load staticfiles %}
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>2 Rows, 2 Columns, A</title>
		<script src="https://unpkg.com/vue"></script>
		<script src="https://cdn.jsdelivr.net/npm/vue-resource@1.3.5"></script>
		<script  src="http://code.jquery.com/jquery-latest.min.js"></script>

		<script type="text/javascript" src="{% static 'js/csrf_token_setup.js' %}"></script >
		<link rel="stylesheet" href="{% static 'css/modaldialog.css' %}" type="text/css">
		<link rel="stylesheet" href="{% static 'css/main_frame.css' %}" type="text/css">

        <script src="{% static 'js/tree/tree.jquery.js' %}"></script>
        <link rel="stylesheet" href="{% static 'js/tree/jqtree.css' %}">
        <script src="{% static 'js//tree/jquery.cookie.js' %}"></script>

		<style type="text/css">

		</style>

	</head>
    {% load dbutils %}
	<body>

		<header id="header">
			<div id="logo">
				<p>속전속결 - 운영툴</p>
			</div>
		</header>

		<main>
			<div class="innertube">

				<h1>Heading</h1>
                {%block main_body %} {% endblock %}

			</div>
		</main>

		<nav id="nav">
			<div class="innertube">
                <div id="LeftMenu">

                </div>

			</div>
		</nav>
	</body>
</html>
  //항목	관리자	운영자	일반	권한 비트셋
    //계정정보	o	o	o	36-00011110
    //매칭정보	o	o	o	36-00011110
    //맵플레이	o	o	o	36-00011110
    //튜토리얼	o	o	o	36-00011110
    //checkReport	o	o	o	36-00011110
    //아이템판매량	o	o	o	36-00011110
    //아이템보유량	o	o	o	36-00011110
    //characterReport	o	o	o	36-00011110
    //상거래조정	o	o	x	14-00001110
    //퀘스트조정	o	o	x	14-00001110
    //매칭셋팅	o	o	x	14-00001110
    //모드선택	o	o	x	14-00001110
    //용병로테이션	o	o	x	14-00001110
    //공지사항	o	o	x	14-00001110
    //계정접속블럭관리	o	o	x	14-00001110
    //닉네임금지어추가	o	o	x	14-00001110
    //아이템지급	o	o	x	14-00001110
    //유저조회	o	o	x	14-00001110
    //서버모니터	o	x	x	6-00000110
    //테스트계정관리	o	x	x	6-00000110
    //엑셀목록	o	x	x	6-00000110
    //테스트통계	o	o	x	14-00001110
    //등급관리	o	x	x	6-00000110

<script type="text/javascript">

    var msg = "{% get_tree_menu %}";
    msg = msg.replace(/&quot;/gi,"");
    msg = msg.replace(/None/gi,null);
    var MenuData = JSON.parse(msg.replace(/&#39;/gi,"\""));

    var jvmIAssert= 1;
    var objID = "kyd";
    console.log(MenuData);
    $(function() {
        $('#LeftMenu').tree({
                data: MenuData,
                saveState: objID,
                autoscroll :true,
                autoOpen: true,
                selectable: true
            });
            $('#LeftMenu').bind(
                'tree.select',
                function(event) {
                    var node = event.node;
                    console.log(node.url);
                    if ( node != null && ( node.url != null  && node.url != "") ){
                         alert(node.url);
                        if ( false == GMAuthCheck(node.iAssert,jvmIAssert ) ) {
                            alert('권한이 없습니다');
                            return false;
                        }
                        window.location.href = node.url;
                        return true;
                    }

                }
            );

            $('#LeftMenu').bind('tree.init', function() {
            // initializing code
                console.log("menu init complete");
            }
        );
    });
console.log("menu init complete ....");
</script>
